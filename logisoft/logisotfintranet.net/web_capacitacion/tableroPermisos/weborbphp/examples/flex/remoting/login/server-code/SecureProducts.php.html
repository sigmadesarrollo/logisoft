<html>
<head>
<title>Codex Source (PHP): SecureProducts.php.html</title>
</head>
<!-- Generated by SynEdit HTML exporter -->
<body text="#000000" bgcolor="#FFFFFF">
<pre>
<code><font  size="3" face="Courier New"><span style="background-color: #FFFFFF"><font color="#000000">&lt;?
require_once(</font><font color="#FF0000">&quot;dbHandler.php&quot;</font><font color="#000000">);
require_once(WebOrb . </font><font color="#FF0000">&quot;Util/Logging/Log.php&quot;</font><font color="#000000">);
require_once(WebOrb . </font><font color="#FF0000">&quot;Util/Logging/LoggingConstants.php&quot;</font><font color="#000000">);
</font><font color="#0000FF"><b>class</b> </font><font color="#000000">SecureProducts
{
  public </font><font color="#0000FF"><b>function</b> </font><font color="#000000">getProducts()
  {
    try
    {
    	</font><font color="#008000">$db </font><font color="#000000">= </font><font color="#0000FF"><b>new</b> </font><font color="#000000">dbHandler();
		</font><font color="#008000">$link </font><font color="#000000">= </font><font color="#008000">$db</font><font color="#000000">-&gt;getDbHandler();
		
        </font><font color="#0000FF"><i>/*String*/</i> </font><font color="#008000">$query </font><font color="#000000">= </font><font color="#FF0000">&quot;SELECT Name, Price FROM Products&quot;</font><font color="#000000">;
        
		</font><font color="#008000">$result </font><font color="#000000">= sqlite_array_query(</font><font color="#008000">$link</font><font color="#000000">, </font><font color="#008000">$query</font><font color="#000000">, SQLITE_ASSOC);
        </font><font color="#008000">$db</font><font color="#000000">-&gt;close();
        </font><font color="#0000FF"><b>return</b> </font><font color="#008000">$result</font><font color="#000000">;
    }
    catch( Exception </font><font color="#008000">$exception </font><font color="#000000">)
    {
     	Log::log( LoggingConstants::EXCEPTION, </font><font color="#008000">$exception </font><font color="#000000">);
    }

    </font><font color="#0000FF"><b>return</b> </font><font color="#000000">null;
  }
}
?&gt;
</font></span></font>
</code></pre>
</body>
</html>