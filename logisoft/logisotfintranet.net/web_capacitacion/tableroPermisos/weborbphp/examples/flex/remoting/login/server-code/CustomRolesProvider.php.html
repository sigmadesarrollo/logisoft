<html>
<head>
<title>Codex Source (PHP): CustomRolesProvider.php.html</title>
</head>
<!-- Generated by SynEdit HTML exporter -->
<body text="#000000" bgcolor="#FFFFFF">
<pre>
<code><font  size="3" face="Courier New"><span style="background-color: #FFFFFF"><font color="#000000">&lt;?php
require_once(WebOrb . </font><font color="#FF0000">&quot;Security/IRolesProvider.php&quot;</font><font color="#000000">);
require_once(</font><font color="#FF0000">&quot;dbHandler.php&quot;</font><font color="#000000">);

</font><font color="#0000FF"><b>class</b> </font><font color="#000000">CustomRolesProvider implements IRolesProvider
{
  private </font><font color="#008000">$link</font><font color="#000000">;
  private </font><font color="#008000">$db</font><font color="#000000">;	
	
  public </font><font color="#0000FF"><b>function</b> </font><font color="#000000">__construct()
  {
  	</font><font color="#008000">$this</font><font color="#000000">-&gt;db = </font><font color="#0000FF"><b>new</b> </font><font color="#000000">dbHandler();
	</font><font color="#008000">$this</font><font color="#000000">-&gt;link = </font><font color="#008000">$this</font><font color="#000000">-&gt;db-&gt;getDbHandler();	
  }
  
    
  public </font><font color="#0000FF"><i>/*String[]*/</i><b>function</b> </font><font color="#000000">getRoles()
  {
    </font><font color="#0000FF"><b>return</b> </font><font color="#000000">sqlite_array_query(</font><font color="#008000">$this</font><font color="#000000">-&gt;link, </font><font color="#FF0000">&quot;SELECT Role FROM Security&quot;</font><font color="#000000">, SQLITE_NUM);
  }

  public </font><font color="#0000FF"><i>/*String[]*/</i><b>function</b> </font><font color="#000000">getUserRoles( </font><font color="#0000FF"><i>/*String*/</i> </font><font color="#008000">$userName </font><font color="#000000">)
  {
  	</font><font color="#008000">$arr </font><font color="#000000">= sqlite_array_query(</font><font color="#008000">$this</font><font color="#000000">-&gt;link, </font><font color="#FF0000">&quot;SELECT Role FROM Security where UserName = '&quot; </font><font color="#000000">. </font><font color="#008000">$userName </font><font color="#000000">. </font><font color="#FF0000">&quot;'&quot;</font><font color="#000000">, SQLITE_NUM );
    </font><font color="#0000FF"><b>return</b> </font><font color="#008000">$arr</font><font color="#000000">[</font><font color="#FF00FF">0</font><font color="#000000">];
  }
  
}
?&gt;
</font></span></font>
</code></pre>
</body>
</html>