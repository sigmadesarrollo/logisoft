<!--
This file was generated by Web C Plus Plus software v0.7.13
Webcpp Copyright (C)2001, (C)2002, (C)2003 Jeffrey Bakker under the GNU GPL
Get webcpp at http://webcpp.sf.net
-->

<html>
<head>
<title>DatabaseTestMySql.php</title>
<style type="text/css">

/** Webcpp v0.7.0+ compatible StyleSheet http://webcpp.sf.net **/
/** Theme: typical **/

body
{
background-color: #ffffff
}

a:link    {color:#ff0000}
a:visited {color:#666666}
a:active  {color:#0000ff}
a:hover   {color:#00b800}

pre
{
color: #000000
}

font
{
font-size:100%
}

font.preproc
{
color: #00b800
}

font.numbers
{
color: #a900a9
}

font.strings
{
color: #ff0000
}

font.keyword
{
color: #0000ff;
font-weight: bold
}

font.comment
{
color: #666666;
font-style: italic
}

</style>
</head>
<body>
<pre><INPUT TYPE="button" VALUE="Go Back" onClick="history.go(-1);return true;">
&lt;?php
<font CLASS=comment>/*******************************************************************
 * DatabaseTestMsSql.php
 * Copyright (C) 2006 Midnight Coders, LLC
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * The software is licensed under the GNU General Public License (GPL)
 * For details, see http://www.gnu.org/licenses/gpl.txt.
 ********************************************************************/</font>

    <font CLASS=keyword>class</font> DatabaseTestMySql
    {
      public <font CLASS=keyword>function</font> getCustomers(<font CLASS=preproc>$rowsToGet</font>)
      {
          <font CLASS=keyword>if</font>(<font CLASS=preproc>$rowsToGet</font> &gt; -<font CLASS=numbers>1</font>)
            <font CLASS=keyword>return</font> <font CLASS=preproc>$</font><font CLASS=keyword>this</font>-&gt;executeSql(<font CLASS=strings>"select * from customers LIMIT <font CLASS=preproc>$rowsToGet</font>"</font>);

          <font CLASS=keyword>return</font> <font CLASS=preproc>$</font><font CLASS=keyword>this</font>-&gt;getCustomersTable();
      }

      public <font CLASS=keyword>function</font> getCustomersMultiTable()
      {
         <font CLASS=preproc>$resultSet</font> = <font CLASS=preproc>$</font><font CLASS=keyword>this</font>-&gt;executeSql(<font CLASS=strings>"select * from customers"</font>);

         <font CLASS=preproc>$resultArr</font> = <font CLASS=keyword>array</font>();

         <font CLASS=keyword>while</font>(<font CLASS=preproc>$row</font> = mysql_fetch_object(<font CLASS=preproc>$resultSet</font>))
            <font CLASS=preproc>$resultArr</font>[] = <font CLASS=preproc>$row;</font>

         <font CLASS=keyword>return</font> <font CLASS=keyword>array</font>(<font CLASS=preproc>$resultArr</font>,<font CLASS=preproc>$resultArr</font>);
      }

      public <font CLASS=keyword>function</font> executeSql(<font CLASS=preproc>$sql</font>)
      {
		<font CLASS=preproc>$server</font>=<font CLASS=strings>"localhost:3306"</font>;
		<font CLASS=preproc>$username</font>=<font CLASS=strings>"flexuser"</font>;
		<font CLASS=preproc>$password</font>=<font CLASS=strings>"password"</font>;


		<font CLASS=preproc>$sqlconnect</font>=mysql_connect(<font CLASS=preproc>$server</font>, <font CLASS=preproc>$username</font>, <font CLASS=preproc>$password</font>);
		
        <font CLASS=comment>//mysql_query("SET NAMES utf8");</font>
        
		<font CLASS=keyword>if</font>( !<font CLASS=preproc>$sqlconnect</font> )
			throw <font CLASS=keyword>new</font> Exception( <font CLASS=strings>"cannot connect to mysql database"</font> );

		<font CLASS=keyword>if</font>( !mysql_select_db(<font CLASS=strings>'northwind'</font>) )
			throw <font CLASS=keyword>new</font> Exception( <font CLASS=strings>"cannot select northwind database"</font> );

		<font CLASS=keyword>return</font> mysql_query(<font CLASS=preproc>$sql</font>);
     }

     public <font CLASS=keyword>function</font> getCustomersTable()
     {
          <font CLASS=keyword>return</font> <font CLASS=preproc>$</font><font CLASS=keyword>this</font>-&gt;executeSql(<font CLASS=strings>"select * from customers"</font>);
     }

    }
?&gt;



</pre>



</body>
</html>