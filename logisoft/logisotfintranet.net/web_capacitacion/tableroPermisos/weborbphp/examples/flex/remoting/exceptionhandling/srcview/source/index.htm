<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Exception Handling Example</title>
<LINK href="..\..\..\orbexamples.css" rel="stylesheet" type="text/css">
</head>

<body>

<table border="0" style="border-collapse: collapse" width="100%" cellpadding="3" id="table1" cellspacing="2">
	<tr>
		<td width="181" valign="top" class="boldCell">Example name:</td>
		<td><b>Remote Invocation Exception Handling</b></td>
	</tr>
	<tr>
		<td width="181" valign="top" class="boldCell">Description:</td>
		<td>The example demonstrates the following:<ul>
			<li>Handling of exceptions thrown from remote method invocations</li>
			<li>Demonstration of the exception object field values delivered to 
			the client</li>
		</ul>
		<p>The client application invokes methods in a .NET object causing 
		exceptions. WebORB intercepts the exceptions and delivers them as errors 
		to the client.</td>
	</tr>
	<tr>
		<td width="181" valign="top" class="boldCell">Client-side code:</td>
		<td><a href="srcview/index.html">Browse</a>&nbsp;
		<a href="srcview/Exceptions.zip">Download</a></td>
	</tr>
	<tr>
		<td width="181" valign="top" class="boldCell">Server-side code:</td>
		<td><a href="server-code">Browse</a>&nbsp;
		<a href="server-code/ExceptionsTestSource.zip">Download</a></td>
	</tr>
	<tr>
		<td width="181" valign="top" class="boldCell">Product edition 
		availability:</td>
		<td>
		  	<ul>
				<li>WebORB Standard Edition (localhost clients only)</li>
				<li>WebORB Professional Edition</li>
				<li>WebORB Enterprise Edition</li>
			</ul>
		</td>
	</tr>
	<tr>
		<td width="181" valign="top" class="boldCell">Run example:</td>
		<td>
		  	<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
					id="Exceptions" width="660" height="290"
					codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab">
					<param name="movie" value="Exceptions.swf" />
					<param name="quality" value="high" />
					<param name="bgcolor" value="#869ca7" />
					<param name="allowScriptAccess" value="sameDomain" />
					<embed src="Exceptions.swf" quality="high" bgcolor="#869ca7"
						width="660" height="290" name="Exceptions" align="middle"
						play="true"
						loop="false"
						quality="high"
						allowScriptAccess="sameDomain"
						type="application/x-shockwave-flash"
						pluginspage="http://www.adobe.com/go/getflashplayer">
					</embed>
			</object>
		</td>
	</tr>
	<tr>
		<td width="181" valign="top" class="boldCell">Key points:</td>
		<td>
		<ul>
			<li>Any exception generated by the server-code is delivered to the 
			client with the same error message. Consider the server-side code 
			behind this example:<br>
&nbsp;<table border="1" style="border-collapse: collapse" cellpadding="3" bgcolor="#E5E5E5" id="table2" bordercolor="#999999">
				<tr>
					<td>
					<p class="MsoNormal" style="text-autospace: none"><b>
					<span style="font-size: 9.0pt; font-family: Courier New; color: blue">
					using</span></b><span style="font-size: 9.0pt; font-family: Courier New"> 
					System;</span><b><span style="font-size: 9.0pt; font-family: Courier New; color: blue"><br>
					using</span></b><span style="font-size: 9.0pt; font-family: Courier New"> 
					System.Collections;</span><b><span style="font-size: 9.0pt; font-family: Courier New; color: blue"><br>
					using</span></b><span style="font-size: 9.0pt; font-family: Courier New"> 
					System.Text;</span><b><span style="font-size: 9.0pt; font-family: Courier New; color: blue"><br>
					<br>
					namespace</span></b><span style="font-size: 9.0pt; font-family: Courier New"> 
					Weborb.Examples<br>
					{<br>
					&nbsp;&nbsp;&nbsp; <b><span style="color:blue">public</span></b> <b>
					<span style="color:blue">class</span></b>
					<span style="color:purple">ExceptionsTest<br>
					</span>&nbsp;&nbsp;&nbsp; {<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color:blue">public</span></b> <b>
					<span style="color:blue">void</span></b> divByZero()<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color:blue">int</span></b> zero 
					= 0;<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color:blue">int</span></b> five 
					= 5;<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color:blue">int</span></b> 
					result = five / zero;<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color:blue">public</span></b> <b>
					<span style="color:blue">void</span></b> NPE()<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:purple">Hashtable</span> hash 
					= <b><span style="color:blue">new</span></b>
					<span style="color:purple">Hashtable</span>();<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hash.Add( <b><span style="color:blue">null</span></b>,
					<b><span style="color:blue">null</span></b> );<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color:blue">public</span></b> <b>
					<span style="color:blue">void</span></b> throwException()<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color:blue">throw</span></b> <b>
					<span style="color:blue">new</span></b>
					<span style="color:purple">MyException</span>( <b>
					<span style="color:green">&quot;this is a custom application 
					exception&quot;</span></b> );<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
					&nbsp;&nbsp;&nbsp; }<br>
					<br>
					&nbsp;&nbsp;&nbsp; <b><span style="color:blue">public</span></b> <b>
					<span style="color:blue">class</span></b>
					<span style="color:purple">MyException</span> :
					<span style="color:purple">Exception<br>
					</span>&nbsp;&nbsp;&nbsp; {<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color:blue">public</span></b> 
					MyException( <span style="color:purple">String</span> 
					message )<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : <b><span style="color:blue">base</span></b>( 
					message )<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
					&nbsp;&nbsp;&nbsp; }<br>
					}</span></td>
				</tr>
			</table><br></li>
			<li>The best way to get the message of the remote exception is by 
			using the &quot;faultString&quot; property of the fault object.</li>
		</ul>
		</td>
	</tr>
	</table>

</body>

</html>